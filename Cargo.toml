[package]
name = "ton-node-tools"
version = "0.1.138"
edition = "2018"
build = "common/build/build.rs"

[workspace]

[dependencies]
base64 = "0.11.0"
failure = "0.1.6"
hex = "0.4.2"
log = "0.4.11"
log4rs = "0.8.3"
serde = "1.0.105"
serde_json = "1.0.56"
shell-words = "1.0.0"
clap = "2.33.3"

adnl = { git = "https://github.com/tonlabs/ton-labs-adnl.git", features = ["client"] }
dht = { git = "https://github.com/tonlabs/ton-labs-dht.git" }
overlay = { git = "https://github.com/tonlabs/ton-labs-overlay.git" }
tokio = { version = "1.5.0", features = ["rt-multi-thread"] }
ton_api = { git = "https://github.com/tonlabs/ton-labs-tl.git", package = "ton_api" }
ton_block = { git = "https://github.com/tonlabs/ton-labs-block.git" }
ton_block_json = { git = "https://github.com/tonlabs/ton-labs-block-json.git" }
ton_node = { git = "https://github.com/tonlabs/ton-labs-node.git", branch = "rustnet" }
ton_types = { git = "https://github.com/tonlabs/ton-labs-types.git" }

[[bin]]
name = "adnl_resolve"
path = "bin/adnl_resolve.rs"

[[bin]]
name = "adnl_ping"
path = "bin/adnl_ping.rs"

[[bin]]
name = "dhtscan"
path = "bin/dhtscan.rs"

[[bin]]
name = "gendht"
path = "bin/gendht.rs"

[[bin]]
name = "console"
path = "bin/console.rs"

[[bin]]
name = "keygen"
path = "bin/keygen.rs"

[[bin]]
name = "keyid"
path = "bin/keyid.rs"

[[bin]]
name = "print"
path = "bin/print.rs"

[[bin]]
name = "zerostate"
path = "bin/zerostate.rs"

[features]
default = ["telemetry"]
telemetry = ["adnl/telemetry", "dht/telemetry", "overlay/telemetry"]
